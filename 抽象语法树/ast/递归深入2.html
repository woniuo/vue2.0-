<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
    // 测试数组
    let arr = [1,2,3,[4,5],6,[7,8,[9,10,11,12]],13,14]
    // 转换函数1，参数只能是数组
    // function covert(arr) {
    //     // 准备结果数组
    //     let result = []
    //     for (let i = 0; i < arr.length; i++) {
    //         // 判断是否为数字
    //         if (typeof arr[i]  === "number") {
    //             result.push({
    //                 value: arr[i]
    //             })
    //         }else if(Array.isArray(arr[i])) {
    //             result.push({
    //                 children: covert(arr[i])
    //             })
    //         }
    //     }
    //     return result
    // }
    //
    // console.log(covert(arr))

    // 转换函数2，参数不是arr这个词语，而是item，意味着item可能是数组，也可能是数字
    // 即，写法1的递归次数要大大小于写法2，因为写法2中，遇见什么东西都要递归一下
    function convert(item) {
        if (typeof item === 'number') {
            // 如果传进来的参数是数字
            return {
                value: item
            }
        }else if (Array.isArray(item)) {
            // 如果传进来的参数是数组
            return {
                children: item.map(_item => convert(_item))
            }
        }
    }

    console.log(convert(arr))
</script>
</body>
</html>